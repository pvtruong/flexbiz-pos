(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1373:function(e,t,a){"use strict";a.r(t);var i=a(0),l=a.n(i),n=a(633),s=a(701),r=a(629),o=a(632),d=a(730),c=a(1),h=a.n(c),p=a(7),m=a(1104),u=a(860),y=a(691),g=a(719),f=a(865);class E extends i.PureComponent{constructor(e){super(e),this.state={dataKeyX:null,dataKeyYs:[],data:null,typeChart:"line"},this.height=window.screen.height-120<400?window.screen.height-120:400}componentDidMount(){if(this.props.code){let e=localStorage.getItem(this.props.code);if(e)try{e=JSON.parse(e),this.setState(e)}catch(e){console.error(e.message)}}}open(e,t){this.setState({open:!0,data:e}),this.callback=t}close(){this.setState({open:!1})}render(){if(!this.state.open)return null;const{getLabel:e}=this.context.apis;let t=this.state.typeChart,a=this.state.dataKeyX,i=this.state.dataKeyYs,c=this.props.columns,h=this.state.data,p={typeChart:t,dataReport:h,columns:c,dataKeyX:a,dataKeyYs:i};return this.props.code&&localStorage.setItem(this.props.code,JSON.stringify({dataKeyX:a,dataKeyYs:i,typeChart:t})),l.a.createElement(r.a,{maxWidth:this.props.formSize||"lg",fullWidth:!0,open:this.state.open,onClose:()=>this.setState({open:!1})},l.a.createElement(d.a,{style:{backgroundColor:this.context.config.formHeaderColor,color:this.context.config.mainTextColor}},l.a.createElement(s.a,{container:!0,direction:"row",justify:"space-between"},l.a.createElement(s.a,{item:!0},e(this.props.title||"Đồ thị")),l.a.createElement(s.a,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",paddingLeft:10}},l.a.createElement(n.a,{variant:"contained",style:{marginLeft:5},onClick:()=>this.setState({open:!1})},e("Tắt"))))),l.a.createElement(o.a,{style:{padding:10}},l.a.createElement(s.a,{container:!0},l.a.createElement(s.a,{item:!0,md:2,lg:2},l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(y.a,{margin:"normal",fullWidth:!0,required:!0},l.a.createElement(g.a,{shrink:!0},e("Kiểu đồ thị")),l.a.createElement(u.a,{fullWidth:!0,value:t,valueField:"name",labelField:"header",items:f.b,onValueChanged:e=>{this.setState({typeChart:e})}}))),l.a.createElement("div",null,l.a.createElement(m.a,{fullWidth:!0,required:!0,multiple:!1,inputLabel:e("Cột toạ độ X"),value:a,valueField:"field",labelField:"header",items:this.props.columns,onValueChanged:e=>{this.setState({dataKeyX:e})}})),l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(m.a,{fullWidth:!0,required:!0,multiple:!0,inputLabel:e("Cột toạ độ Y"),value:i,valueField:"field",labelField:"header",items:this.props.columns.filter(e=>"Number"===e.dataType||"Number"===e.datatype),onValueChanged:e=>{this.setState({dataKeyYs:e})}}))),l.a.createElement(s.a,{item:!0,md:10,lg:10},l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:this.height,padding:10}},h&&a&&i&&i.length>0&&t&&l.a.createElement(f.a,p))))))}}E.contextType=p.a,E.propTypes={code:h.a.string,columns:h.a.array,title:h.a.string,formSize:h.a.oneOf(["sm","md","lg"])},t.default=E}}]);