(window.webpackJsonp=window.webpackJsonp||[]).push([[24,31],{1362:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),n=a(1),i=a.n(n),r=a(633),l=a(719),c=a(701),h=a(629),d=a(632),m=a(730),p=a(7),u=a(26);const g={paper:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:1},submit:{margin:"3 0 2 0"}};class w extends o.a.PureComponent{constructor(e){super(e),this.state={dialogOpen:!1,password:"",repassword:"",email:""},this.submit=this.submit.bind(this),this.showForm=this.showForm.bind(this)}async componentDidMount(){}showForm(e,t){this.setState({dialogOpen:!0,email:e,password:"",repassword:""}),this.onSuccess=t}handleClose(){this.setState({dialogOpen:!1})}async submit(){const{secondaryColor:e}=this.context.config,{getLabel:t,asyncChangePasswordByAdmin:a}=this.context.apis;let s=this.state.password,o=this.state.repassword;if(!s||s.length<6)return this.context.alert(t("Mật khẩu phải có độ dài lớn hơn hoặc bằng 6"));if(s!==o)return this.context.alert(t("Hai mật khẩu không khớp nhau"));this.context.setProgressStatus(!0);try{let n=await a(this.context.userInfo.token,{email:this.state.email,newPassword:s,reNewPassword:o});this.context.alert(t("Chương trình đã thực hiện xong"),null,e),this.handleClose(),this.onSuccess&&this.onSuccess(n)}catch(e){this.context.alert(t(e.message))}}dialog(){const{formHeaderColor:e,mainTextColor:t}=this.context.config,{getLabel:a}=this.context.apis;return o.a.createElement(h.a,{fullScreen:this.props.mediaQueryMatches,fullWidth:!0,maxWidth:"sm",open:this.state.dialogOpen,onClose:()=>this.handleClose()},o.a.createElement(m.a,{style:{backgroundColor:e,color:t}},o.a.createElement(c.a,{container:!0,direction:"row",justify:"space-between"},o.a.createElement(c.a,{item:!0},a("Khôi phục mật khẩu")),o.a.createElement(c.a,{item:!0},o.a.createElement(r.a,{onClick:()=>this.handleClose(),style:{color:t}},"x")))),o.a.createElement(d.a,null,o.a.createElement("div",{style:g.paper},o.a.createElement("form",{style:g.form,noValidate:!0},o.a.createElement(l.a,{variant:"outlined",margin:"normal",required:!0,type:"password",fullWidth:!0,label:a("Nhập mật khẩu mới"),autoComplete:"off",autoFocus:!0,value:this.state.password,onChange:e=>this.setState({password:e.target.value})}),o.a.createElement(l.a,{variant:"outlined",margin:"normal",type:"password",required:!0,fullWidth:!0,autoComplete:"off",label:a("Nhập lại mật khẩu mới"),value:this.state.repassword,onChange:e=>this.setState({repassword:e.target.value})}),o.a.createElement(r.a,{type:"Button",fullWidth:!0,variant:"contained",color:"secondary",style:g.submit,onClick:this.submit},a("Khôi phục"))))))}render(){return this.dialog()}}w.contextType=p.a,w.propTypes={mediaQueryMatches:i.a.bool},t.default=Object(u.a)("(max-width:480px)")(w)},730:function(e,t,a){"use strict";var s=a(2),o=a(3),n=a(0),i=(a(1),a(4)),r=a(6),l=a(106),c=n.forwardRef((function(e,t){var a=e.children,r=e.classes,c=e.className,h=e.disableTypography,d=void 0!==h&&h,m=Object(o.a)(e,["children","classes","className","disableTypography"]);return n.createElement("div",Object(s.a)({className:Object(i.a)(r.root,c),ref:t},m),d?a:n.createElement(l.a,{component:"h2",variant:"h6"},a))}));t.a=Object(r.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(c)}}]);