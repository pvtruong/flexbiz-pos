(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1421:function(t,e,a){"use strict";a.r(e);var s=a(0),o=a.n(s),n=a(1),i=a.n(n),r=a(218),l=a(1209),h=a(196),c=a(371),m=a(372),d=a(606),u=a(9),p=a(40);const w={paper:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:1},submit:{margin:"3 0 2 0"}};class g extends o.a.PureComponent{constructor(t){super(t),this.state={dialogOpen:!1,password:"",repassword:"",email:""},this.submit=this.submit.bind(this),this.showForm=this.showForm.bind(this)}async componentDidMount(){}showForm(t,e){this.setState({dialogOpen:!0,email:t,password:"",repassword:""}),this.onSuccess=e}handleClose(){this.setState({dialogOpen:!1})}async submit(){const{secondaryColor:t}=this.context.config,{getLabel:e,asyncChangePasswordByAdmin:a}=this.context.apis;let s=this.state.password,o=this.state.repassword;if(!s||s.length<6)return this.context.alert(e("Mật khẩu phải có độ dài lớn hơn hoặc bằng 6"));if(s!==o)return this.context.alert(e("Hai mật khẩu không khớp nhau"));this.context.setProgressStatus(!0);try{let n=await a(this.context.userInfo.token,{email:this.state.email,newPassword:s,reNewPassword:o});this.context.alert(e("Chương trình đã thực hiện xong"),null,t),this.handleClose(),this.onSuccess&&this.onSuccess(n)}catch(t){this.context.alert(e(t.message))}}dialog(){const{formHeaderColor:t,mainTextColor:e}=this.context.config,{getLabel:a}=this.context.apis;return o.a.createElement(c.a,{fullScreen:this.props.mediaQueryMatches,fullWidth:!0,maxWidth:"sm",open:this.state.dialogOpen,onClose:()=>this.handleClose()},o.a.createElement(d.a,{style:{backgroundColor:t,color:e}},o.a.createElement(h.a,{container:!0,direction:"row",justify:"space-between"},o.a.createElement(h.a,{item:!0},a("Khôi phục mật khẩu")),o.a.createElement(h.a,{item:!0},o.a.createElement(r.a,{onClick:()=>this.handleClose(),style:{color:e}},"x")))),o.a.createElement(m.a,null,o.a.createElement("div",{style:w.paper},o.a.createElement("form",{style:w.form,noValidate:!0},o.a.createElement(l.a,{variant:"outlined",margin:"normal",required:!0,type:"password",fullWidth:!0,label:a("Nhập mật khẩu mới"),autoComplete:"off",autoFocus:!0,value:this.state.password,onChange:t=>this.setState({password:t.target.value})}),o.a.createElement(l.a,{variant:"outlined",margin:"normal",type:"password",required:!0,fullWidth:!0,autoComplete:"off",label:a("Nhập lại mật khẩu mới"),value:this.state.repassword,onChange:t=>this.setState({repassword:t.target.value})}),o.a.createElement(r.a,{type:"Button",fullWidth:!0,variant:"contained",color:"secondary",style:w.submit,onClick:this.submit},a("Khôi phục"))))))}render(){return this.dialog()}}g.contextType=u.a,g.propTypes={mediaQueryMatches:i.a.bool},e.default=Object(p.a)("(max-width:480px)")(g)}}]);