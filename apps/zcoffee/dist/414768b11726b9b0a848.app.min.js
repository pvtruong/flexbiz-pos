(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1414:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(1),o=a.n(i),r=a(218),l=a(1209),c=a(196),h=a(371),m=a(372),u=a(606),d=a(9),p=a(40),g=a(120),y=a.n(g);const w={paper:{marginTop:0,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},form:{width:"100%",marginTop:1},submit:{margin:"3 0 2 0"}};class b extends n.a.Component{constructor(e){super(e),this.state={dialogOpen:!1,user:"",password:""},this.submit=this.submit.bind(this),this.showForm=this.showForm.bind(this)}async componentDidMount(){}showForm(e,t,a,s){this.setState({dialogOpen:!0,title:e,user:t,password:"",data:a,running:!1}),this.onSuccess=s}handleClose(){this.setState({dialogOpen:!1})}cancel(){this.setState({dialogOpen:!1})}onKeyPress(e){"Enter"===e.key&&(this.submit(),e.preventDefault())}async submit(){const{getLabel:e,asyncSign:t}=this.context.apis;let{user:a,password:s,data:n}=this.state;if(a&&s){this.context.setProgressStatus(!0);try{let e=await t(a,s,n);this.setState({dialogOpen:!1}),this.onSuccess&&this.onSuccess(e),this.context.setProgressStatus(!1)}catch(e){this.context.alert(e.message||e)}}else this.context.alert(e("Bạn chưa cập nhật tên người sử dụng hoặc mật khẩu"))}dialog(){return n.a.createElement(h.a,{fullScreen:this.props.mediaQueryMatches,fullWidth:!0,maxWidth:"sm",open:this.state.dialogOpen,onClose:()=>this.cancel()},n.a.createElement(u.a,{style:{backgroundColor:this.context.config.formHeaderColor,color:this.context.config.mainTextColor}},n.a.createElement(c.a,{container:!0,direction:"row",justify:"space-between"},n.a.createElement(c.a,{item:!0},this.context.apis.getLabel(this.state.title||"Ký xác nhận")),n.a.createElement(c.a,{item:!0},n.a.createElement(r.a,{onClick:()=>this.cancel(),style:{color:this.context.config.mainTextColor}},n.a.createElement(y.a,{style:{color:"silver"}}))))),n.a.createElement(m.a,null,n.a.createElement("div",{style:w.paper},n.a.createElement("form",{style:w.form,noValidate:!0,autoComplete:"new-password"},n.a.createElement(l.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:this.context.apis.getLabel("Tên đăng nhập"),autoComplete:"email",value:this.state.user,onKeyPress:this.onKeyPress.bind(this),onChange:e=>this.setState({user:e.target.value})}),n.a.createElement(l.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:this.context.apis.getLabel("Mật khẩu"),type:"password",autoFocus:!0,autoComplete:"new-password",value:this.state.password,onKeyPress:this.onKeyPress.bind(this),onChange:e=>this.setState({password:e.target.value})}),n.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:20}},n.a.createElement(r.a,{type:"Button",variant:"contained",color:"secondary",onClick:this.submit,style:w.submit},this.context.apis.getLabel("Ký")))))))}render(){return this.dialog()}}b.contextType=d.a,b.propTypes={mediaQueryMatches:o.a.bool},t.default=Object(p.a)("(max-width:480px)")(b)}}]);