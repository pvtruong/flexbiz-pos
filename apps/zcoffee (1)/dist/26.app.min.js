(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1729:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(55),o=n.n(i),c=n(1703),s=n(480),l=n(740),d=n(742),u=n(741),p=n(743),f=n(1709),m=n(1714),g=n(1715),h=n(437),x=n(374),v=n(403),b=n(397),y=n.n(b),w=n(450),j=n(386),E=n.n(j);class O extends r.a.Component{constructor(e){super(e),this.state={dialogOpen:!1,data:null,load:0},this.showForm=this.showForm.bind(this),this.cancel=this.cancel.bind(this)}async componentDidMount(){}showForm(e){this.timeout&&clearTimeout(this.timeout),this.setState({data:null,rows:[]},()=>{e&&e._id&&this.loadMember(e._id).then(()=>{this.timeout=setTimeout(()=>{this.cancel()},6e4)})})}handleClose(){this.timeout&&clearTimeout(this.timeout),this.setState({dialogOpen:!1})}cancel(){this.timeout&&clearTimeout(this.timeout),this.setState({dialogOpen:!1})}async loadMember(e){this.context.setProgressStatus(!0);try{let t=await this.context.apis.asyncGetData(this.context.userInfo.token,"checkin",{_id:e});if("1"===t.trang_thai&&!t.ma_nv)return this.context.alert(this.context.apis.getLabel("Không tìm thấy thông tin nhân viên"));if("2"===t.trang_thai&&!t.ma_kh)return this.context.alert(this.context.apis.getLabel("Không tìm thấy thông tin khách hàng"));let n={type:t.type,device_user_id:t.device_user_id};n.record_time={$gte:E()(t.record_time).startOf("date").toDate(),$lte:E()(t.record_time).endOf("date").toDate()};let a=await this.context.apis.asyncGetList(this.context.userInfo.token,"checkin",{condition:n,sort:{record_time:1}});this.setState({data:t,rows:a,load:this.state.load+1,dialogOpen:!0}),this.context.setProgressStatus(!1)}catch(e){this.context.alert(e.message)}}renderMember(e,t=[]){if(!e)return null;let n=e.picture||this.context.appInfo.logo?`${this.context.config.server_url}${e.picture||this.context.appInfo.logo}?size=M&access_token=${(this.context.userInfo||{}).token}`:"/images/logo.png";return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,spacing:2},r.a.createElement(s.a,{item:!0,xs:12,sm:12,md:4,lg:4,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(w.LazyLoadImage,{src:n,style:{maxHeight:180}})),r.a.createElement(s.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(f.a,null,this.context.apis.getLabel("Mã vân tay"),": "),r.a.createElement(f.a,{style:{fontWeight:"bold",marginLeft:10}},e.device_user_id)),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(f.a,null,this.context.apis.getLabel("Mã"),": "),r.a.createElement(f.a,{style:{fontWeight:"bold",marginLeft:5}},e.ma_kh||e.ma_nv),r.a.createElement(f.a,{style:{marginLeft:20}},this.context.apis.getLabel("Tên"),": "),r.a.createElement(f.a,{style:{fontWeight:"bold",marginLeft:5}},e.ten_kh||e.ten_nv)))),r.a.createElement(l.a,{style:{marginTop:20}},r.a.createElement(u.a,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,this.context.apis.getLabel("STT"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,this.context.apis.getLabel("Ngày check-in"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,this.context.apis.getLabel("Giờ vào"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,this.context.apis.getLabel("Giờ ra"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,this.context.apis.getLabel("Trạng thái")))),t.map((t,n)=>r.a.createElement(d.a,{key:n.toString()},r.a.createElement(p.a,null,r.a.createElement(f.a,null,n+1)),r.a.createElement(p.a,null,r.a.createElement(f.a,null,E()(t.record_time).format("DD/MM/YYYY"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,n%2==0&&E()(e.record_time).format("HH:mm A"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,n%2!=0&&E()(e.record_time).format("HH:mm A"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,n%2==0?this.context.apis.getLabel("Check-in"):this.context.apis.getLabel("Check-out")))))))}dialog(){const{formHeaderColor:e,mainTextColor:t}=this.context.config,{getLabel:n}=this.context.apis;return r.a.createElement(m.a,{fullScreen:!0,fullWidth:!0,maxWidth:"lg",open:this.state.dialogOpen,onClose:()=>this.cancel()},r.a.createElement(h.a,{style:{backgroundColor:e,color:t}},r.a.createElement(s.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(s.a,{item:!0},n("Check in")),r.a.createElement(s.a,{item:!0},r.a.createElement(c.a,{onClick:()=>this.cancel(),style:{color:t}},r.a.createElement(y.a,{style:{color:"silver"}}))))),r.a.createElement(g.a,null,r.a.createElement("div",{style:{padding:20}},this.state.data&&this.renderMember(this.state.data,this.state.rows))))}render(){return this.dialog()}}O.contextType=x.a,O.propTypes={mediaQueryMatches:o.a.bool},t.default=Object(v.a)("(max-width:480px)")(O)},371:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},372:function(e,t,n){var a=n(410).default;function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.createSvgIcon}});var a=n(396)},381:function(e,t,n){"use strict";function a(e,t){return function(){return null}}n.d(t,"a",(function(){return a}))},387:function(e,t,n){"use strict";function a(e){return function(){return null}}n.d(t,"a",(function(){return a}))},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1);function r(e){var t=a.useState(e),n=t[0],r=t[1],i=e||n;return a.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}},392:function(e,t,n){"use strict";function a(e,t,n,a,r){return null}n.d(t,"a",(function(){return a}))},396:function(e,t,n){"use strict";n.r(t);var a=n(378);n.d(t,"capitalize",(function(){return a.a}));var r=n(407);n.d(t,"createChainedFunction",(function(){return r.a}));var i=n(383);n.d(t,"createSvgIcon",(function(){return i.a}));var o=n(412);n.d(t,"debounce",(function(){return o.a}));var c=n(381);n.d(t,"deprecatedPropType",(function(){return c.a}));var s=n(413);n.d(t,"isMuiElement",(function(){return s.a}));var l=n(404);n.d(t,"ownerDocument",(function(){return l.a}));var d=n(416);n.d(t,"ownerWindow",(function(){return d.a}));var u=n(387);n.d(t,"requirePropFactory",(function(){return u.a}));var p=n(402);n.d(t,"setRef",(function(){return p.a}));var f=n(392);n.d(t,"unsupportedProp",(function(){return f.a}));var m=n(405);n.d(t,"useControlled",(function(){return m.a}));var g=n(406);n.d(t,"useEventCallback",(function(){return g.a}));var h=n(382);n.d(t,"useForkRef",(function(){return h.a}));var x=n(389);n.d(t,"unstable_useId",(function(){return x.a}));var v=n(411);n.d(t,"useIsFocusVisible",(function(){return v.a}))},397:function(e,t,n){"use strict";var a=n(371),r=n(372);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o=(0,a(n(373)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},403:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(55),o=n.n(i),c=n(504);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.a=(...e)=>t=>n=>{const a=Object(c.a)(...e),i=e=>{const{forwardedRef:n,...i}=e;return r.a.createElement(t,s({ref:n},i,{mediaQueryMatches:a}))};return i.propTypes={forwardedRef:o.a.any},r.a.createElement(i,n)}},410:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},431:function(e,t,n){"use strict";var a=n(1),r=a.createContext();t.a=r},437:function(e,t,n){"use strict";var a=n(12),r=n(368),i=n(1),o=(n(55),n(369)),c=n(370),s=n(1709),l=i.forwardRef((function(e,t){var n=e.children,c=e.classes,l=e.className,d=e.disableTypography,u=void 0!==d&&d,p=Object(r.a)(e,["children","classes","className","disableTypography"]);return i.createElement("div",Object(a.a)({className:Object(o.a)(c.root,l),ref:t},p),u?n:i.createElement(s.a,{component:"h2",variant:"h6"},n))}));t.a=Object(c.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(l)},480:function(e,t,n){"use strict";var a=n(368),r=n(12),i=n(1),o=(n(55),n(369)),c=n(370),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=i.forwardRef((function(e,t){var n=e.alignContent,c=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,d=e.classes,u=e.className,p=e.component,f=void 0===p?"div":p,m=e.container,g=void 0!==m&&m,h=e.direction,x=void 0===h?"row":h,v=e.item,b=void 0!==v&&v,y=e.justify,w=e.justifyContent,j=void 0===w?"flex-start":w,E=e.lg,O=void 0!==E&&E,M=e.md,_=void 0!==M&&M,C=e.sm,k=void 0!==C&&C,S=e.spacing,L=void 0===S?0:S,T=e.wrap,z=void 0===T?"wrap":T,W=e.xl,I=void 0!==W&&W,N=e.xs,R=void 0!==N&&N,H=e.zeroMinWidth,D=void 0!==H&&H,P=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),A=Object(o.a)(d.root,u,g&&[d.container,0!==L&&d["spacing-xs-".concat(String(L))]],b&&d.item,D&&d.zeroMinWidth,"row"!==x&&d["direction-xs-".concat(String(x))],"wrap"!==z&&d["wrap-xs-".concat(String(z))],"stretch"!==l&&d["align-items-xs-".concat(String(l))],"stretch"!==c&&d["align-content-xs-".concat(String(c))],"flex-start"!==(y||j)&&d["justify-content-xs-".concat(String(y||j))],!1!==R&&d["grid-xs-".concat(String(R))],!1!==k&&d["grid-sm-".concat(String(k))],!1!==_&&d["grid-md-".concat(String(_))],!1!==O&&d["grid-lg-".concat(String(O))],!1!==I&&d["grid-xl-".concat(String(I))]);return i.createElement(f,Object(r.a)({className:A,ref:t},P))})),p=Object(c.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(u);t.a=p},482:function(e,t,n){"use strict";var a=n(1),r=a.createContext();t.a=r},504:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),r=n(1),i=n(1701),o=n(1702);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(i.a)(),c=Object(o.a)({theme:n,name:"MuiUseMediaQuery",props:{}});var s="function"==typeof e?e(n):e;s=s.replace(/^@media( ?)/m,"");var l="undefined"!=typeof window&&void 0!==window.matchMedia,d=Object(a.a)({},c,t),u=d.defaultMatches,p=void 0!==u&&u,f=d.matchMedia,m=void 0===f?l?window.matchMedia:null:f,g=d.noSsr,h=void 0!==g&&g,x=d.ssrMatchMedia,v=void 0===x?null:x,b=r.useState((function(){return h&&l?m(s).matches:v?v(s).matches:p})),y=b[0],w=b[1];return r.useEffect((function(){var e=!0;if(l){var t=m(s),n=function(){e&&w(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[s,m,l]),y}},740:function(e,t,n){"use strict";var a=n(368),r=n(12),i=n(1),o=(n(55),n(369)),c=n(370),s=n(482),l=i.forwardRef((function(e,t){var n=e.classes,c=e.className,l=e.component,d=void 0===l?"table":l,u=e.padding,p=void 0===u?"normal":u,f=e.size,m=void 0===f?"medium":f,g=e.stickyHeader,h=void 0!==g&&g,x=Object(a.a)(e,["classes","className","component","padding","size","stickyHeader"]),v=i.useMemo((function(){return{padding:p,size:m,stickyHeader:h}}),[p,m,h]);return i.createElement(s.a.Provider,{value:v},i.createElement(d,Object(r.a)({role:"table"===d?null:"table",ref:t,className:Object(o.a)(n.root,c,h&&n.stickyHeader)},x)))}));t.a=Object(c.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(r.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(l)},741:function(e,t,n){"use strict";var a=n(12),r=n(368),i=n(1),o=(n(55),n(369)),c=n(370),s=n(431),l={variant:"head"},d=i.forwardRef((function(e,t){var n=e.classes,c=e.className,d=e.component,u=void 0===d?"thead":d,p=Object(r.a)(e,["classes","className","component"]);return i.createElement(s.a.Provider,{value:l},i.createElement(u,Object(a.a)({className:Object(o.a)(n.root,c),ref:t,role:"thead"===u?null:"rowgroup"},p)))}));t.a=Object(c.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(d)},742:function(e,t,n){"use strict";var a=n(12),r=n(368),i=n(1),o=(n(55),n(369)),c=n(370),s=n(431),l=n(395),d=i.forwardRef((function(e,t){var n=e.classes,c=e.className,l=e.component,d=void 0===l?"tr":l,u=e.hover,p=void 0!==u&&u,f=e.selected,m=void 0!==f&&f,g=Object(r.a)(e,["classes","className","component","hover","selected"]),h=i.useContext(s.a);return i.createElement(d,Object(a.a)({ref:t,className:Object(o.a)(n.root,c,h&&{head:n.head,footer:n.footer}[h.variant],p&&n.hover,m&&n.selected),role:"tr"===d?null:"row"},g))}));t.a=Object(c.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(l.a)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(d)},743:function(e,t,n){"use strict";var a=n(368),r=n(12),i=n(1),o=(n(55),n(369)),c=n(370),s=n(378),l=n(395),d=n(482),u=n(431),p=i.forwardRef((function(e,t){var n,c,l=e.align,p=void 0===l?"inherit":l,f=e.classes,m=e.className,g=e.component,h=e.padding,x=e.scope,v=e.size,b=e.sortDirection,y=e.variant,w=Object(a.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),j=i.useContext(d.a),E=i.useContext(u.a),O=E&&"head"===E.variant;g?(c=g,n=O?"columnheader":"cell"):c=O?"th":"td";var M=x;!M&&O&&(M="col");var _=h||(j&&j.padding?j.padding:"normal"),C=v||(j&&j.size?j.size:"medium"),k=y||E&&E.variant,S=null;return b&&(S="asc"===b?"ascending":"descending"),i.createElement(c,Object(r.a)({ref:t,className:Object(o.a)(f.root,f[k],m,"inherit"!==p&&f["align".concat(Object(s.a)(p))],"normal"!==_&&f["padding".concat(Object(s.a)(_))],"medium"!==C&&f["size".concat(Object(s.a)(C))],"head"===k&&j&&j.stickyHeader&&f.stickyHeader),"aria-sort":S,role:n,scope:M},w))}));t.a=Object(c.a)((function(e){return{root:Object(r.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(l.f)(Object(l.a)(e.palette.divider,1),.88):Object(l.b)(Object(l.a)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(p)}}]);